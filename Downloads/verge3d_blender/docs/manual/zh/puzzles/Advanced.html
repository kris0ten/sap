<!DOCTYPE html><html lang="zh"><head>
  <title>高级拼图参考 - Soft8Soft</title>
  <meta charset="utf-8">
  <meta name="description" content="如何使用拼图应用中实现高级功能，如网络、与JavaScript代码的交互、数据转换、状态保存/恢复等。">
  <base href="../../../">
  <script src="page.js"></script>
  <link type="text/css" rel="stylesheet" href="page.css">

            <link rel="canonical" href="https://www.soft8soft.com/docs/manual/zh/puzzles/Advanced.html">

            <meta property="og:type" content="article">
            <meta property="og:title" content="高级拼图参考 - Soft8Soft">
            <meta property="og:description" content="如何使用拼图应用中实现高级功能，如网络、与JavaScript代码的交互、数据转换、状态保存/恢复等。">
            <meta property="og:image" content="https://cdn.soft8soft.com/images/manual.jpg">
            <meta property="og:image:width" content="1200">
            <meta property="og:image:height" content="630">
            <meta property="og:url" content="https://www.soft8soft.com/docs/manual/zh/puzzles/Advanced.html">
            <meta property="og:site_name" content="Soft8Soft">
            <meta property="og:locale" content="en_US">

            <meta property="article:author" content="https://www.facebook.com/soft8soft">

            <meta property="article:tag" content="Verge3D">
            <meta property="article:tag" content="WebGL">
            <meta property="article:tag" content="3D">
            <meta property="article:tag" content="ThreeJS">
            <meta property="article:tag" content="interactive">
            <meta property="article:tag" content="realtime">
            <meta property="article:tag" content="3dweb">
            <meta property="article:tag" content="web3d">

            <meta name="twitter:card" content="summary_large_image">
            <meta name="twitter:title" content="高级拼图参考 - Soft8Soft">
            <meta name="twitter:description" content="如何使用拼图应用中实现高级功能，如网络、与JavaScript代码的交互、数据转换、状态保存/恢复等。">
            <meta name="twitter:image" content="https://cdn.soft8soft.com/images/manual.jpg">
            <meta name="twitter:creator" content="@soft8soft">
        
            <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

            <!-- favicons from realfavicongenerator.net -->
            <link rel="apple-touch-icon" sizes="180x180" href="files/icons/apple-touch-icon.png">
            <link rel="icon" type="image/png" sizes="32x32" href="files/icons/favicon-32x32.png">
            <link rel="icon" type="image/png" sizes="16x16" href="files/icons/favicon-16x16.png">
            <link rel="manifest" href="files/icons/manifest.json">
            <link rel="mask-icon" href="files/icons/safari-pinned-tab.svg" color="#5bbad5 ">
        <script type="application/ld+json">[
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-exec-script.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-call-js-function.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-load-data.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-send-data.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-loaded-data.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-read-JSON.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-read-CSV.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-csv-example.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-save-state.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-undo-state.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-all-variable-names.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-variable-value-by-name.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-javascript-object.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-javascript-object-example.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-wait-promise.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ,
                {
                    "@context": "https://schema.org/",
                    "@type": "ImageObject",
                    "url": "https://www.soft8soft.com/docs/files/puzzles/puzzles-advanced-connector.jpg",
                    "license": "https://creativecommons.org/licenses/by/4.0/",
                    "acquireLicensePage": "https://www.soft8soft.com/contact/"
                }
            ]</script></head>

<body><nav id="panel" class="collapsed">
          <h1><a href="manual/zh/index.html">Verge3D用户手册</a></h1>

          <a id="expandButton" href="#">
            <span></span>
            <span></span>
            <span></span>
          </a>

          <div class="filterBlock">
            <input type="text" id="filterInput" placeholder="Type to filter" autocapitalize="off" spellcheck="false">
            <a href="#" id="clearFilterButton">x</a>
          </div>

          <div id="content"><div><h2>入门指南</h2><ul id="入门指南"><li><a href="manual/zh/introduction/Beginners-Guide.html" id="入门指南_新手入门">新手入门</a></li><li><a href="manual/zh/introduction/Workflow.html" id="入门指南_工作流程">工作流程</a></li><li><a href="manual/zh/introduction/App-Manager.html" id="入门指南_应用管理器">应用管理器</a></li><li><a href="manual/zh/introduction/Puzzles-Visual-Logic-Editor.html" id="入门指南_拼图编辑器">拼图编辑器</a></li><li><a href="manual/zh/introduction/Features.html" id="入门指南_功能特性">功能特性</a></li><li><a href="manual/zh/introduction/Project-Structure.html" id="入门指南_项目结构">项目结构</a></li><li><a href="manual/zh/introduction/Updating.html" id="入门指南_版本更新">版本更新</a></li><li><a href="manual/zh/introduction/FAQ.html" id="入门指南_常见问题">常见问题</a></li><li><a href="manual/zh/introduction/Useful-links.html" id="入门指南_实用链接">实用链接</a></li></ul></div><div><h2>通用专题</h2><ul id="通用专题"><li><a href="manual/zh/introduction/Optimizing-WebGL-performance.html" id="通用专题_优化技巧">优化技巧</a></li><li><a href="manual/zh/introduction/Asset-compression.html" id="通用专题_资产压缩">资产压缩</a></li><li><a href="manual/zh/introduction/HTML-based-user-interfaces.html" id="通用专题_基于HTML的用户界面">基于HTML的用户界面</a></li><li><a href="manual/zh/introduction/Text-Rendering.html" id="通用专题_文本渲染">文本渲染</a></li><li><a href="manual/zh/introduction/AR-VR-development.html" id="通用专题_AR/VR开发">AR/VR开发</a></li><li><a href="manual/zh/introduction/Physics-Guide.html" id="通用专题_物理系统指南">物理系统指南</a></li><li><a href="manual/zh/introduction/Personalizing-Verge3D-Apps.html" id="通用专题_个性化Verge3D应用">个性化Verge3D应用</a></li><li><a href="manual/zh/introduction/Wordpress-Plugin.html" id="通用专题_WordPress插件">WordPress插件</a></li><li><a href="manual/zh/introduction/Using-JavaScript.html" id="通用专题_使用JavaScript">使用JavaScript</a></li><li><a href="manual/zh/introduction/Creating-Desktop-Apps.html" id="通用专题_创建桌面应用">创建桌面应用</a></li><li><a href="manual/zh/introduction/Creating-Mobile-Apps.html" id="通用专题_创建移动应用">创建移动应用</a></li><li><a href="manual/zh/introduction/Performance-Bottlenecks.html" id="通用专题_性能瓶颈">性能瓶颈</a></li><li><a href="manual/zh/introduction/Hardware-Related-Issues.html" id="通用专题_硬件相关问题">硬件相关问题</a></li><li><a href="manual/zh/introduction/Testing-Mobile-Browsers.html" id="通用专题_移动端测试">移动端测试</a></li></ul></div><div><h2>Blender艺术家指南</h2><ul id="Blender艺术家指南"><li><a href="manual/zh/blender/Beginners-Guide.html" id="Blender艺术家指南_入门指南">入门指南</a></li><li><a href="manual/zh/blender/Installation.html" id="Blender艺术家指南_安装">安装</a></li><li><a href="manual/zh/blender/Material-System.html" id="Blender艺术家指南_材质系统概览">材质系统概览</a></li><li><a href="manual/zh/blender/Lighting-and-Rendering.html" id="Blender艺术家指南_灯光与渲染">灯光与渲染</a></li><li><a href="manual/zh/blender/Camera.html" id="Blender艺术家指南_摄影机">摄影机</a></li><li><a href="manual/zh/blender/Shader-Nodes-Reference.html" id="Blender艺术家指南_着色器节点">着色器节点</a></li><li><a href="manual/zh/blender/Animation.html" id="Blender艺术家指南_动画">动画</a></li><li><a href="manual/zh/blender/Morphing.html" id="Blender艺术家指南_形态键（变形）">形态键（变形）</a></li><li><a href="manual/zh/blender/Shadows.html" id="Blender艺术家指南_阴影">阴影</a></li><li><a href="manual/zh/blender/Transparency.html" id="Blender艺术家指南_透明度">透明度</a></li><li><a href="manual/zh/blender/GLTF-Materials.html" id="Blender艺术家指南_glTF材质">glTF材质</a></li><li><a href="manual/zh/blender/Object-Constraints.html" id="Blender艺术家指南_对象约束">对象约束</a></li><li><a href="manual/zh/blender/Material-Library.html" id="Blender艺术家指南_使用材质库">使用材质库</a></li></ul></div><div><h2>3ds Max艺术家指南</h2><ul id="3ds_Max艺术家指南"><li><a href="manual/zh/max/Beginners-Guide.html" id="3ds_Max艺术家指南_入门指南">入门指南</a></li><li><a href="manual/zh/max/Installation.html" id="3ds_Max艺术家指南_安装">安装</a></li><li><a href="manual/zh/max/Material-System.html" id="3ds_Max艺术家指南_材质系统概览">材质系统概览</a></li><li><a href="manual/zh/max/Lighting-and-Rendering.html" id="3ds_Max艺术家指南_灯光与渲染">灯光与渲染</a></li><li><a href="manual/zh/max/Camera.html" id="3ds_Max艺术家指南_摄影机">摄影机</a></li><li><a href="manual/zh/max/Materials-Maps-Reference.html" id="3ds_Max艺术家指南_材质与贴图">材质与贴图</a></li><li><a href="manual/zh/max/Animation.html" id="3ds_Max艺术家指南_动画">动画</a></li><li><a href="manual/zh/max/Morphing.html" id="3ds_Max艺术家指南_变形">变形</a></li><li><a href="manual/zh/max/Shadows.html" id="3ds_Max艺术家指南_阴影">阴影</a></li><li><a href="manual/zh/max/Transparency.html" id="3ds_Max艺术家指南_透明度">透明度</a></li><li><a href="manual/zh/max/Viewport-Render-Preview.html" id="3ds_Max艺术家指南_视口及渲染预览">视口及渲染预览</a></li><li><a href="manual/zh/max/GLTF-Materials.html" id="3ds_Max艺术家指南_glTF材质">glTF材质</a></li><li><a href="manual/zh/max/Animation-Constraints.html" id="3ds_Max艺术家指南_动画约束">动画约束</a></li><li><a href="manual/zh/max/Material-Library.html" id="3ds_Max艺术家指南_使用材质库">使用材质库</a></li></ul></div><div><h2>Maya艺术家指南</h2><ul id="Maya艺术家指南"><li><a href="manual/zh/maya/Beginners-Guide.html" id="Maya艺术家指南_入门指南">入门指南</a></li><li><a href="manual/zh/maya/Installation.html" id="Maya艺术家指南_安装">安装</a></li><li><a href="manual/zh/maya/Materials.html" id="Maya艺术家指南_材质与贴图">材质与贴图</a></li><li><a href="manual/zh/maya/Lighting-and-Rendering.html" id="Maya艺术家指南_灯光与渲染">灯光与渲染</a></li><li><a href="manual/zh/maya/Camera.html" id="Maya艺术家指南_摄影机">摄影机</a></li><li><a href="manual/zh/maya/Shadows.html" id="Maya艺术家指南_阴影">阴影</a></li><li><a href="manual/zh/maya/Animation.html" id="Maya艺术家指南_动画">动画</a></li><li><a href="manual/zh/maya/Blend-Shapes.html" id="Maya艺术家指南_形态融合（变形）">形态融合（变形）</a></li><li><a href="manual/zh/maya/Transparency.html" id="Maya艺术家指南_透明度">透明度</a></li><li><a href="manual/zh/maya/GLTF-Materials.html" id="Maya艺术家指南_glTF材质">glTF材质</a></li><li><a href="manual/zh/maya/Object-Constraints.html" id="Maya艺术家指南_对象约束">对象约束</a></li><li><a href="manual/zh/maya/Material-Library.html" id="Maya艺术家指南_使用材质库">使用材质库</a></li></ul></div><div><h2>拼图参考</h2><ul id="拼图参考"><li><a href="manual/zh/puzzles/Initialization.html" id="拼图参考_初始化｜Initialization">初始化｜Initialization</a></li><li><a href="manual/zh/puzzles/Events.html" id="拼图参考_事件｜Events">事件｜Events</a></li><li><a href="manual/zh/puzzles/Selectors.html" id="拼图参考_选择器｜Selectors">选择器｜Selectors</a></li><li><a href="manual/zh/puzzles/Objects.html" id="拼图参考_对象｜Objects">对象｜Objects</a></li><li><a href="manual/zh/puzzles/Materials.html" id="拼图参考_材质｜Materials">材质｜Materials</a></li><li><a href="manual/zh/puzzles/Animation.html" id="拼图参考_动画与约束｜Animation_(+Constraints)">动画与约束｜Animation (+Constraints)</a></li><li><a href="manual/zh/puzzles/Camera.html" id="拼图参考_摄影机/灯光｜Camera/Lights">摄影机/灯光｜Camera/Lights</a></li><li><a href="manual/zh/puzzles/Scenes.html" id="拼图参考_场景｜Scenes">场景｜Scenes</a></li><li><a href="manual/zh/puzzles/Time.html" id="拼图参考_时间｜Time">时间｜Time</a></li><li><a href="manual/zh/puzzles/HTML.html" id="拼图参考_HTML">HTML</a></li><li><a href="manual/zh/puzzles/AR_VR.html" id="拼图参考_AR/VR">AR/VR</a></li><li><a href="manual/zh/puzzles/Sound.html" id="拼图参考_音频/视频｜Audio/Video">音频/视频｜Audio/Video</a></li><li><a href="manual/zh/puzzles/Physics.html" id="拼图参考_物理系统｜Physics">物理系统｜Physics</a></li><li><a href="manual/zh/puzzles/Postprocessing.html" id="拼图参考_后期处理｜Post-processing">后期处理｜Post-processing</a></li><li><a href="manual/zh/puzzles/Logic.html" id="拼图参考_逻辑｜Logic">逻辑｜Logic</a></li><li><a href="manual/zh/puzzles/Loops.html" id="拼图参考_循环｜Loops">循环｜Loops</a></li><li><a href="manual/zh/puzzles/Text.html" id="拼图参考_文本｜Text">文本｜Text</a></li><li><a href="manual/zh/puzzles/Numbers.html" id="拼图参考_数字｜Numbers">数字｜Numbers</a></li><li><a href="manual/zh/puzzles/Lists.html" id="拼图参考_列表｜Lists">列表｜Lists</a></li><li><a href="manual/zh/puzzles/Dictionaries.html" id="拼图参考_字典｜Dictionaries">字典｜Dictionaries</a></li><li><a href="manual/zh/puzzles/Variables.html" id="拼图参考_变量｜Variables">变量｜Variables</a></li><li><a href="manual/zh/puzzles/Procedures.html" id="拼图参考_过程｜Procedures">过程｜Procedures</a></li><li><a href="manual/zh/puzzles/System.html" id="拼图参考_系统｜System">系统｜System</a></li><li><a href="manual/zh/puzzles/Advanced.html" id="拼图参考_高级｜Advanced">高级｜Advanced</a></li><li><a href="manual/zh/puzzles/ECommerce.html" id="拼图参考_电商插件｜E-Commerce_Plugin">电商插件｜E-Commerce Plugin</a></li><li><a href="manual/zh/puzzles/Library.html" id="拼图参考_库｜Library">库｜Library</a></li><li><a href="manual/zh/puzzles/Plugins.html" id="拼图参考_插件系统｜Plugins">插件系统｜Plugins</a></li></ul></div></div>
        </nav>
  <article>

    <h1>高级 | Advanced</h1>

    <p>使用这些拼图可以在应用中实现高级功能，如网络、与JavaScript代码的交互、数据转换、状态保存/恢复等。</p>
      
    <img src="files/puzzles/puzzles-advanced.jpg">
    <h2>内容</h2>

    <!-- TOC -->
<ul><li><a href="manual/zh/puzzles/Advanced.html#puzzles_reference">拼图参考</a><ul><li><a href="manual/zh/puzzles/Advanced.html#exec_script">exec script(可执行脚本)</a></li><li><a href="manual/zh/puzzles/Advanced.html#call_external_function">call external function(调用外部函数)</a></li><li><a href="manual/zh/puzzles/Advanced.html#load_data">load data(载入数据)</a></li><li><a href="manual/zh/puzzles/Advanced.html#send_data">send data(发送数据)</a></li><li><a href="manual/zh/puzzles/Advanced.html#loaded_data">loaded data(已加载的数据)</a></li><li><a href="manual/zh/puzzles/Advanced.html#read_JSON">read JSON(读取JSON)</a></li><li><a href="manual/zh/puzzles/Advanced.html#read_CSV">read CSV(读取JSON)</a></li><li><a href="manual/zh/puzzles/Advanced.html#save_state">save state(保存状态)</a></li><li><a href="manual/zh/puzzles/Advanced.html#undo_state">undo state(撤销状态)</a></li><li><a href="manual/zh/puzzles/Advanced.html#all_variable_names">all variable names(所有变量名称)</a></li><li><a href="manual/zh/puzzles/Advanced.html#variable_value_by_name">variable value by name(对应名称的变量的值)</a></li><li><a href="manual/zh/puzzles/Advanced.html#javascript_object">JavaScript object(JavaScript对象)</a></li><li><a href="manual/zh/puzzles/Advanced.html#wait_promise">wait promise(等待promise)</a></li><li><a href="manual/zh/puzzles/Advanced.html#promise_value">promise值</a></li><li><a href="manual/zh/puzzles/Advanced.html#connector">connector(连接器)</a></li></ul></li></ul><!-- /TOC --> <p><a href="manual/zh/puzzles/Advanced.html#puzzles_reference" id="puzzles_reference" class="permalink">#</a></p>

    <h2>拼图参考</h2>

    <p><a href="manual/zh/puzzles/Advanced.html#exec_script" id="exec_script" class="permalink">#</a></p>

    <h3>exec script(可执行脚本)</h3>

    <p>此拼图执行指定的javascript代码。它使用 <a href="https://ace.c9.io/">Ace编辑器</a> 来显示和编辑内容。请查看相关的键盘快捷键简介：<a href="https://github.com/ajaxorg/ace/wiki/Default-Keyboard-Shortcuts">默认键盘快捷键</a>。</p>

    <p>您可以使用以下内置变量。</p>
    <ul>
      <li><b>app</b> - 应用实例，详见 <a href="api/en/extras/App.html">App</a> 。</li>
      <li><b>v3d</b> - 包含所有引擎模块的v3d命名空间。</li>
      <li><b>VARS</b> - 可以通过该对象访问变量拼图。</li>
      <li><b>PROC</b> - 可以通过这个对象访问过程拼图。</li>
    </ul>
    
    <img src="files/puzzles/puzzles-advanced-exec-script.jpg" style="max-width: 1000px">
    <p><b>关于 "Init" 和其他标签，使用内置插件的具体细节</b></p>
    <ul>
      <li>如果 <b>app</b> 内置变量在 <b>Init</b> 标签中被使用，那么它就不能用于这个拼图，因为在那个阶段，应用还没有被正确初始化。</li>
      <li>在 <b>Init</b> 标签中声明的变量和程序不能通过 <b>VARS</b> 和 <b>PROC</b> 从其他标签访问，反之亦然。</li>
    </ul><!-- COMPAT: < 3.5 --> <a href="#" id="call_JS_function"></a> <p><a href="manual/zh/puzzles/Advanced.html#call_external_function" id="call_external_function" class="permalink">#</a></p>

    <h3>call external function(调用外部函数)</h3>

    <p>执行一个在应用的JavaScript代码中指定的函数。可以选择传递参数，作为函数参数使用。</p>
      
    <img src="files/puzzles/puzzles-advanced-call-js-function.jpg">
    <p>为了在JavaScript代码中添加一个函数，用任何文本编辑器打开应用 <strong>.js</strong> 文件（例如， <i>my_awesome_app.js</i> 位于
      <i>verge3d/applications/my_awesome_app</i>）。搜索 "prepareExternalInterface" 并在该声明中添加您的函数（在大括号之间），这样它看起来像这样。
    </p>
    
    
<code>

      function prepareExternalInterface(app) {
              app.ExternalInterface.myJSFunction = function(numericArg, textArg) {
                  alert('Got some params from Puzzles: ' + numericArg + ' and ' + textArg);
              }
      }
    
</code>


    <p><a href="manual/zh/puzzles/Advanced.html#load_data" id="load_data" class="permalink">#</a></p>

    <h3>load data(载入数据)</h3>

    <p>试图从一个指定的位置加载数据。不管尝试是否成功，"once ready do" 槽中的拼图都会被解释。检索到的数据可以通过 <a href="manual/zh/puzzles/Advanced.html#loaded_data">加载数据</a> 拼图进行访问。</p>
      
    <img src="files/puzzles/puzzles-advanced-load-data.jpg">

    <p><a href="manual/zh/puzzles/Advanced.html#send_data" id="send_data" class="permalink">#</a></p>

    <h3>send data(发送数据)</h3>

    <p>试图使用异步的 <a href="https://en.wikipedia.org/wiki/POST_(HTTP)" target="_blank">POST HTTP</a>
      请求将指定的数据发送到一个远程位置。不管尝试是否成功，"once ready do" 槽中的拼图都会被解释。如果有任何响应数据，可以通过 <a href="manual/zh/puzzles/Advanced.html#loaded_data">loaded data</a> 拼图访问。</p>
      
    <img src="files/puzzles/puzzles-advanced-send-data.jpg">

    <p><a href="manual/zh/puzzles/Advanced.html#loaded_data" id="loaded_data" class="permalink">#</a></p>

    <h3>loaded data(已加载的数据)</h3>

    <p>返回由 <a href="manual/zh/puzzles/Advanced.html#load_data">加载数据</a> 或 <a href="manual/zh/puzzles/Advanced.html#send_data">发送数据</a> 拼图获取的数据。</p>
      
    <img src="files/puzzles/puzzles-advanced-loaded-data.jpg">

    <p><a href="manual/zh/puzzles/Advanced.html#read_JSON" id="read_JSON" class="permalink">#</a></p>

    <h3>read JSON(读取JSON)</h3>

    <p>将文本（或 <a href="manual/zh/puzzles/HTML.html#data_uri">数据URI</a>）解释为 <a href="https://en.wikipedia.org/wiki/JSON#Example" target="_blank">JavaScript Object Notation</a> 数据，并以字典形式返回。
    </p>
      
    <img src="files/puzzles/puzzles-advanced-read-JSON.jpg">

    <p><a href="manual/zh/puzzles/Advanced.html#read_CSV" id="read_CSV" class="permalink">#</a></p>

    <h3>read CSV(读取JSON)</h3>

    <p>将文本（或 <a href="manual/zh/puzzles/HTML.html#data_uri">数据URI</a>）解释为 <a href="https://en.wikipedia.org/wiki/Comma-separated_values#Example" target="_blank">逗号分隔的值</a>。返回一个表格行的列表，每行表示为一个值的列表。分隔符可以通过下拉选择，以对应CSV文件的导出设置。"From row" 值表示从顶部开始跳过多少行。</p>

    <img src="files/puzzles/puzzles-advanced-read-CSV.jpg">

    <p>表的行和值是通过它们的数字索引从0开始访问的。</p>
    
    <img src="files/puzzles/puzzles-advanced-csv-example.jpg">

    <p><a href="manual/zh/puzzles/Advanced.html#save_state" id="save_state" class="permalink">#</a></p>

    <h3>save state(保存状态)</h3>

    <p>保存指定对象的状态和/或由其名称指定的变量值。对象被克隆并存储在内存中。变量的值被检索并存储在内存中，每个指定的变量名称都是如此。</p>
    
    <img src="files/puzzles/puzzles-advanced-save-state.jpg">

    <p>如果此拼图被多次调用，那么这些状态将被依次保存，这样就可以通过 <a href="manual/zh/puzzles/Advanced.html#undo_state">undo state(撤销状态)</a> 拼图返回到之前的任一状态。</p>

    <p><a href="manual/zh/puzzles/Advanced.html#undo_state" id="undo_state" class="permalink">#</a></p>

    <h3>undo state(撤销状态)</h3>

    <p>恢复用 <a href="manual/zh/puzzles/Advanced.html#save_state">save state(保存状态)</a> 拼图保存的对象和/或变量的状态。</p>
    
    <img src="files/puzzles/puzzles-advanced-undo-state.jpg">
    
    <p>如果这个拼图被多次调用，状态会从保存的序列中恢复（如果有的话），这使得我们可以从堆栈中返回到任何先前保存的状态。</p>

    <p><a href="manual/zh/puzzles/Advanced.html#all_variable_names" id="all_variable_names" class="permalink">#</a></p>

    <h3>all variable names(所有变量名称)</h3>

    <p>返回一个包含拼图中使用的所有变量名称的列表。</p>
      
    <img src="files/puzzles/puzzles-advanced-all-variable-names.jpg">

    <p><a href="manual/zh/puzzles/Advanced.html#variable_value_by_name" id="variable_value_by_name" class="permalink">#</a></p>

    <h3>variable value by name(对应名称的变量的值)</h3>

    <p>返回指定名称的变量的值。此拼图的工作方式与标准的变量值拼图类似，但不需要从预定义的下拉菜单中选择一个变量。</p>
      
    <img src="files/puzzles/puzzles-advanced-variable-value-by-name.jpg">

    <p><a href="manual/zh/puzzles/Advanced.html#javascript_object" id="javascript_object" class="permalink">#</a></p>

    <h3>JavaScript object(JavaScript对象)</h3>

    <p>返回一个给定的JavaScript对象。</p>
      
    <img src="files/puzzles/puzzles-advanced-javascript-object.jpg">
    <p>使用此拼图可获得以下JavaScript对象。</p>

    <dl>
      <dt>window(窗口)</dt>
      <dd>返回顶层的<strong>window</strong>对象作为字典值。</dd>
      <dt>arguments(参数)</dt>
      <dd>返回当前执行的函数的参数列表。可以用来获取拼图过程的参数或者传递给拼图内部回调的额外参数（见下文）。</dd>
      <dt>this</dt>
      <dd>JavaScript中的<strong>this</strong>值。</dd>
    </dl>

    <p><strong>arguments</strong>选项可以用来获取额外的拼图选项。例如，当使用 <a href="manual/zh/puzzles/Events.html#when_clicked">when click(当点击...时)</a>
      拼图时，您可以使用在<strong>do</strong>插槽后面被执行的回调的第一个参数来获得触发拼图逻辑的内部JavaScript事件。在下面的例子中，我们使用这一事件来获取鼠标指针的X和Y坐标。</p>
      
    <img src="files/puzzles/puzzles-advanced-javascript-object-example.jpg">
    <p>以下拼图支持高级选项。</p>

    <ul>
      <li><a href="manual/zh/puzzles/Events.html#when_clicked">when click(当点击...时)</a>， <a href="manual/zh/puzzles/Events.html#when_hovered">when hovered(当悬停于...时)</a>， <a href="manual/zh/puzzles/Events.html#when_dragged">when dragged(当拖动...时)</a> —— <a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent" target="_blank">鼠标</a> 或 <a href="https://developer.mozilla.org/en-US/docs/Web/API/TouchEvent">触摸</a> 事件触发 <em>do</em> 插槽中的拼图。</li>
      <li><a href="manual/zh/puzzles/Time.html#after">after(在...之后)</a>， <a href="manual/zh/puzzles/Time.html#set_timer">set timer(设置定时器)</a> —— 由拼图的 <a href="https://www.w3schools.com/jsref/met_win_setinterval.asp">setInterval(设置时间间隔)</a> 调用返回的定时器ID。</li>
      <li><a href="manual/zh/puzzles/Time.html#every_frame">every frame</a> - 间隔时间delta和总耗时。</li>
      <li><a href="manual/zh/puzzles/HTML.html#event">Event</a> - 事件对象。</li>
      <li><a href="manual/zh/puzzles/AR_VR.html#session_event">on session event</a> - WebXR事件对象。</li>
    </ul>

    <p><a href="manual/zh/puzzles/Advanced.html#wait_promise" id="wait_promise" class="permalink">#</a></p>

    <h3>wait promise(等待promise)</h3>

    <p>等待promise被解决或拒绝，并在 <a href="manual/zh/puzzles/Advanced.html#promise_value">promise value</a> 拼图中返回其值（或拒绝原因）。</p>
    <img src="files/puzzles/puzzles-advanced-wait-promise.jpg">
    <p>这个拼图可被用于获取 <a href="manual/zh/puzzles/Scenes.html#export_to_gltf">导出到gltf</a> 和 <a href="manual/zh/puzzles/Materials.html#generate_normal_map">generate normal map(生成法线贴图)</a>
      的值。作为一个异步拼图，这些拼图不会立即返回解决的值。相反，它们会返回 <em>promise</em> 值，这些值在它们被用作输入的拼图中被解决。然而，在少数情况下，这种解决并没有发生。在这些情况下，您应该使用 <strong>wait promise</strong> 来解析promise值。</p>

    <p><a href="manual/zh/puzzles/Advanced.html#promise_value" id="promise_value" class="permalink">#</a></p>

    <h3>promise值</h3>

    <p>已解决的promise值（在已解决promise的情况下）或错误字符串（在拒绝promise的情况下）。</p>

    <p><a href="manual/zh/puzzles/Advanced.html#connector" id="connector" class="permalink">#</a></p>

    <h3>connector(连接器)</h3>

    <p>这个拼图可建立拼图之间的连接，以便于移动、删除和在其他拼图中使用拼图组。典型应用是将 <a href="manual/zh/puzzles/Sound.html#load_sound">load sound(加载声音)</a>
      或 <a href="manual/zh/puzzles/Sound.html#load_video">load video(加载视频)</a> 的拼图连接成一个组，用以组织应用中预加载媒体资源。</p>
      
    <img src="files/puzzles/puzzles-advanced-connector.jpg">
    <h2>在使用拼图时遇到困难？</h2>

    <p>欢迎您随时在 <a href="https://www.soft8soft.com/forums/" target="_blank">论坛</a>上提问！您还可以加入中文用户社区<a href="https://shang.qq.com/wpa/qunwpa?idkey=c31cf6597f3ed7ce68bd47aba6bba23049bf973ac6acc59b0a5a7d1bd933b3ea" target="_blank">QQ群(171678760)</a>，在线寻求帮助。</p>

  </article>



<!-- Yandex.Metrika counter --> <script type="text/javascript"> (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)}; m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)}) (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym"); ym(46001298, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true, webvisor:true, ecommerce:"dataLayer" }); ym(46001298, 'addFileExtension', 'xz');</script> <noscript><div><img src="https://mc.yandex.ru/watch/46001298" style="position:absolute; left:-9999px;" alt="" /></div></noscript> <!-- /Yandex.Metrika counter -->
        <div class="copyright">© <a href="https://www.soft8soft.com/cn" target="_blank">Soft8Soft – Web的3D解决方案</a><div>最后更新于 2022年3月28日</div></div></body></html>